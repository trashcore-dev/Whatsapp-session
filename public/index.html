<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trashcore Pairing Dashboard</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
  --primary: linear-gradient(135deg, #FF4500, #228B22);
  --bg: #1f1f2e;
  --glass: rgba(255, 255, 255, 0.05);
  --text: #ffffff;
  --muted: #708090;
  --highlight: #FF1493;
  --radius: 16px;
  --blur: 12px;
  --transition: 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  --glow: 0 0 15px rgba(0, 212, 255, 0.3);
}

* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  overflow-x: hidden;
  color: var(--text);
  padding: 80px 20px 120px;
  background: var(--bg);
}

/* Header */
.header {
  position: fixed; top: 0; left: 0; right: 0;
  display: flex; justify-content: space-between; align-items: center;
  padding: 1rem 2rem; background: var(--glass); backdrop-filter: blur(var(--blur));
  z-index: 100; border-bottom: 1px solid rgba(255,255,255,0.1);
}

.logo-container { display: flex; align-items: center; gap: 1rem; }
.logo-img { height: 40px; width: 40px; border-radius: 50%; object-fit: cover; border: 2px solid rgba(0,212,255,0.3); box-shadow: var(--glow); }
.logo-text { font-size: 1.5rem; font-weight: 700; background: var(--primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: var(--glow); }

.battery-container { background: rgba(0,0,0,0.3); border-radius:50px; padding:0.5rem 1rem; display:flex; align-items:center; gap:0.7rem; font-size:0.9rem; border:1px solid rgba(255,255,255,0.1); }
.battery-icon { color: var(--highlight); font-size:1.2rem; }

/* Main content */
.main-content { width:100%; max-width:500px; display:flex; flex-direction:column; gap:2rem; position:relative; z-index:1; }
.box { background: var(--glass); backdrop-filter: blur(var(--blur)); border-radius: var(--radius); padding:2rem; text-align:center; box-shadow:0 10px 35px rgba(0,0,0,0.4); border:1px solid rgba(255,255,255,0.1); transition: var(--transition); }
.box:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0,0,0,0.5), var(--glow);}
.box h2 { font-size:1.8rem; margin-bottom:1rem; background: var(--primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: var(--glow);}
.box h5 { color: var(--muted); margin-bottom:1.5rem; font-weight:normal; }
.input-container { display:flex; gap:0.5rem; margin-bottom:1.5rem; }
.input-container input { flex:1; padding:1rem; border-radius:var(--radius); border:1px solid rgba(255,255,255,0.1); background:rgba(0,0,0,0.3); color:var(--text); font-family:inherit; transition:var(--transition);}
.input-container input:focus { outline:none; border-color:var(--highlight); box-shadow:0 0 0 2px rgba(0,212,255,0.2);}
.input-container button { padding:1rem 1.5rem; background: var(--primary); color:white; border:none; border-radius: var(--radius); font-weight:600; cursor:pointer; transition: var(--transition);}
.input-container button:hover { transform:translateY(-2px); box-shadow:0 5px 15px rgba(0,0,0,0.3); }

#pair-result { margin-top:1.5rem; padding:1rem; border-radius:var(--radius); background:rgba(0,0,0,0.3); border:1px solid rgba(255,255,255,0.1); min-height:60px; display:flex; align-items:center; justify-content:center; }
#copy-code { background: rgba(0,0,0,0.3); border:1px solid var(--highlight); padding:0.6rem 1.2rem; border-radius:50px; color:white; cursor:pointer; font-weight:600; transition: var(--transition); margin-top:1rem; display:none; }
#copy-code:hover { background: rgba(0,212,255,0.1); box-shadow:0 0 15px rgba(0,212,255,0.2); }

/* Responsive */
@media (max-width:768px){
  .header{padding:0.8rem 1rem;}
  .logo-text{font-size:1.2rem;}
  body{padding:70px 15px 100px;}
  .input-container{flex-direction:column;}
  .input-container button{width:100%;}
}
</style>
</head>
<body>

<header class="header">
  <div class="logo-container">
    <img src="https://url.bwmxmd.online/Adams.twcferrg.jpg" alt="Trashcore bot Logo" class="logo-img">
    <div class="logo-text">𝐓𝐑𝐀𝐒𝐇𝐂𝐎𝐑𝐄-𝐏𝐀𝐈𝐑𝐈𝐍𝐆</div>
  </div>
  <div class="battery-container">
    <i class="fas fa-battery-full battery-icon"></i>
    <span id="battery-level">--%</span>
  </div>
</header>

<div class="main-content">
  <div class="box">
    <h2>PAIRING CODE</h2>
    <h5>TRASHCORE BOTS</h5>
    <p>Enter your WhatsApp number without country code</p>
    <div class="input-container">
      <input type="text" id="number" placeholder="e.g. 712345678">
      <button id="submit">REQUEST CODE</button>
    </div>
    <div id="pair-result"></div>
    <button id="copy-code" onclick="copyCode()">COPY CODE</button>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"></script>
<script>
const pairResult = document.getElementById("pair-result");
const submitBtn = document.getElementById("submit");
const numberInput = document.getElementById("number");
const copyCodeBtn = document.getElementById("copy-code");

// Copy to clipboard
async function copyCode() {
  const text = pairResult.innerText.replace('CODE: ', '');
  try {
    await navigator.clipboard.writeText(text);
    copyCodeBtn.innerText = "COPIED!";
    copyCodeBtn.style.backgroundColor = "#00ff00";
    copyCodeBtn.style.color = "#000";
    setTimeout(() => {
      copyCodeBtn.innerText = "COPY CODE";
      copyCodeBtn.style.backgroundColor = "";
      copyCodeBtn.style.color = "";
    }, 2000);
  } catch(e){ console.error(e); }
}

// Request pairing code
submitBtn.addEventListener("click", async () => {
  const phone = numberInput.value.trim();
  if(!phone){ pairResult.innerText = "Enter your number"; return; }
  pairResult.innerText = "Generating pairing code...";
  copyCodeBtn.style.display = "none";

  try {
    const { data } = await axios.post('/request-code', { phone });
    if(data.code){
      pairResult.innerHTML = `CODE: <strong>${data.code}</strong>`;
      copyCodeBtn.style.display = "inline-block";
    } else {
      pairResult.innerText = data.error || "Failed to generate code";
    }
  } catch(err){
    pairResult.innerText = "Error: " + err.message;
  }
});
</script>

</body>
</html>
